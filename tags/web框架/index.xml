<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>webæ¡†æ¶ on Lao&#39;s Blog</title>
    <link>https://laoooo.cn/tags/web%E6%A1%86%E6%9E%B6/</link>
    <description>Recent content in webæ¡†æ¶ on Lao&#39;s Blog</description>
    <image>
      <url>https://laoooo.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</url>
      <link>https://laoooo.cn/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E</link>
    </image>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-CN</language>
    <lastBuildDate>Wed, 17 Nov 2021 10:00:56 +0000</lastBuildDate><atom:link href="https://laoooo.cn/tags/web%E6%A1%86%E6%9E%B6/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Djangoå­¦ä¹ ç¬”è®°ï¼ˆå››ï¼‰</title>
      <link>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%9B%9B/</link>
      <pubDate>Wed, 17 Nov 2021 10:00:56 +0000</pubDate>
      
      <guid>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E5%9B%9B/</guid>
      <description>Django æ•°æ®æ¨¡å‹ Django å¯¹å„ç§æ•°æ®åº“æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼ŒåŒ…æ‹¬ï¼šPostgreSQLã€MySQLã€SQLiteã€Oracleã€‚ Django ä¸ºè¿™äº›æ•°æ®åº“æä¾›äº†ç»Ÿä¸€çš„è°ƒç”¨</description>
      <content:encoded><![CDATA[<h1 id="django-æ•°æ®æ¨¡å‹">Django æ•°æ®æ¨¡å‹</h1>
<blockquote>
<p>Django å¯¹å„ç§æ•°æ®åº“æä¾›äº†å¾ˆå¥½çš„æ”¯æŒï¼ŒåŒ…æ‹¬ï¼šPostgreSQLã€MySQLã€SQLiteã€Oracleã€‚
Django ä¸ºè¿™äº›æ•°æ®åº“æä¾›äº†ç»Ÿä¸€çš„è°ƒç”¨APIã€‚ æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±ä¸šåŠ¡éœ€æ±‚é€‰æ‹©ä¸åŒçš„æ•°æ®åº“ã€‚
MySQL æ˜¯ Web åº”ç”¨ä¸­æœ€å¸¸ç”¨çš„æ•°æ®åº“ã€‚æœ¬æ–‡ä»¥MySQLä¸ºä¾‹ï¼Œç”¨Djangoæ¥é“¾æ¥MySQLæ•°æ®åº“ã€‚</p>
</blockquote>
<h2 id="é©±åŠ¨">é©±åŠ¨</h2>
<p>pythoné»˜è®¤ä¸æ”¯æŒå¯¹MySQLè¿›è¡Œç›´æ¥æ“ä½œï¼Œæˆ‘ä»¬éœ€è¦å®‰è£…ä¸€ä¸ªé©±åŠ¨ä»¥è·å¾—å¯¹MySQLçš„æ”¯æŒã€‚å¦‚æœä½ æ²¡æœ‰ï¼Œä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤å®‰è£…ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">sudo pip3 install pymysql
</span></span></code></pre></div><h2 id="é…ç½®æ•°æ®åº“">é…ç½®æ•°æ®åº“</h2>
<p>Djangoå¯ä»¥å¯¹è¡¨è¿›è¡Œç®¡ç†ï¼Œä½†è¿˜ä¸èƒ½è¿›è¡Œåº“çº§åˆ«çš„æ“ä½œï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹åŠ¨å»ºåº“ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">create database æ•°æ®åº“åç§° default <span class="nv">charset</span><span class="o">=</span>utf8<span class="p">;</span> <span class="c1"># é˜²æ­¢ç¼–ç é—®é¢˜ï¼ŒæŒ‡å®šä¸º utf8</span>
</span></span></code></pre></div><p>æ•°æ®åº“æœ‰äº†ï¼Œæˆ‘ä»¬éœ€è¦åœ¨Djangoé…ç½®ï¼ˆé¡¹ç›®æ ¹ç›®å½•/åŒåæ–‡ä»¶å¤¹/settings.pyï¼‰é‡Œå†™å…¥ç›¸å…³ä¿¡æ¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;default&#39;</span><span class="p">:</span> 
</span></span><span class="line"><span class="cl">    <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.mysql&#39;</span><span class="p">,</span>    <span class="c1"># æ•°æ®åº“å¼•æ“</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;test&#39;</span><span class="p">,</span> <span class="c1"># æ•°æ®åº“åç§°</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;127.0.0.1&#39;</span><span class="p">,</span> <span class="c1"># æ•°æ®åº“åœ°å€ï¼Œæœ¬æœº ip åœ°å€ 127.0.0.1 </span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span> <span class="c1"># ç«¯å£ </span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span>  <span class="c1"># æ•°æ®åº“ç”¨æˆ·å</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;123456&#39;</span><span class="p">,</span> <span class="c1"># æ•°æ®åº“å¯†ç </span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>  
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></div><p><em>æ³¨æ„ï¼šå¦‚æœä½ ä½¿ç”¨äº† Python2.x ç‰ˆæœ¬è¿™é‡Œæ·»åŠ äº†ä¸­æ–‡æ³¨é‡Šï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨ settings.py æ–‡ä»¶å¤´éƒ¨æ·»åŠ  <strong><code># -*- coding: UTF-8 -*-</code></strong> ã€‚</em></p>
<h2 id="å®šä¹‰æ¨¡å‹">å®šä¹‰æ¨¡å‹</h2>
<h3 id="åˆ›å»ºapp">åˆ›å»ºAPP</h3>
<p>Django è§„å®šï¼Œå¦‚æœè¦ä½¿ç”¨æ¨¡å‹ï¼Œå¿…é¡»è¦åˆ›å»ºä¸€ä¸ª appã€‚æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºä¸€ä¸ª TestModel çš„ app:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">django-admin startapp TestModel
</span></span></code></pre></div><p>ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Web
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- Web
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- manage.py
</span></span><span class="line"><span class="cl">...
</span></span><span class="line"><span class="cl"><span class="p">|</span>-- TestModel
</span></span><span class="line"><span class="cl"><span class="p">|</span>   <span class="p">|</span>-- __init__.py
</span></span><span class="line"><span class="cl"><span class="p">|</span>   <span class="p">|</span>-- admin.py
</span></span><span class="line"><span class="cl"><span class="p">|</span>   <span class="p">|</span>-- models.py
</span></span><span class="line"><span class="cl"><span class="p">|</span>   <span class="p">|</span>-- tests.py
</span></span><span class="line"><span class="cl"><span class="p">|</span>   <span class="sb">`</span>-- views.py
</span></span></code></pre></div><p>ä¿®æ”¹ TestModel/models.py æ–‡ä»¶ï¼Œä»£ç å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="c1"># models.py</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="k">class</span> <span class="nc">Test</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</span></span></code></pre></div><p>ä»¥ä¸Šçš„ç±»åä»£è¡¨äº†æ•°æ®åº“<strong>è¡¨å</strong>ï¼Œä¸”ç»§æ‰¿äº†models.Modelï¼Œç±»é‡Œé¢çš„å­—æ®µä»£è¡¨æ•°æ®è¡¨ä¸­çš„ <strong>å­—æ®µ(name)</strong> ï¼Œæ•°æ®ç±»å‹åˆ™ç”±CharFieldï¼ˆç›¸å½“äºvarcharï¼‰ã€DateFieldï¼ˆç›¸å½“äºdatetimeï¼‰ï¼Œ max_length å‚æ•°é™å®šé•¿åº¦ã€‚
æ¥ä¸‹æ¥åœ¨ settings.py ä¸­æ‰¾åˆ°INSTALLED_APPSè¿™ä¸€é¡¹ï¼Œå¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;django.contrib.staticfiles&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s1">&#39;TestModel&#39;</span><span class="p">,</span>               <span class="c1"># æ·»åŠ æ­¤é¡¹</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span></code></pre></div><p>åœ¨å‘½ä»¤è¡Œä¸­è¿è¡Œï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python3 manage.py migrate   <span class="c1"># åˆ›å»ºè¡¨ç»“æ„</span>
</span></span><span class="line"><span class="cl">python3 manage.py makemigrations TestModel  <span class="c1"># è®© Django çŸ¥é“æˆ‘ä»¬åœ¨æˆ‘ä»¬çš„æ¨¡å‹æœ‰ä¸€äº›å˜æ›´</span>
</span></span><span class="line"><span class="cl">python3 manage.py migrate TestModel   <span class="c1"># åˆ›å»ºè¡¨ç»“æ„</span>
</span></span></code></pre></div><p>å¦‚æœçœ‹åˆ°&quot;Creating tableâ€¦&quot; çš„å­—æ ·ï¼Œè¯´æ˜ä½ çš„æ•°æ®è¡¨å°±åˆ›å»ºå¥½äº†ã€‚
è¡¨åç»„æˆç»“æ„ä¸ºï¼šåº”ç”¨å_ç±»åï¼ˆå¦‚ï¼šTestModel_testï¼‰ã€‚
**æ³¨æ„ï¼š**å°½ç®¡æˆ‘ä»¬æ²¡æœ‰åœ¨ models ç»™è¡¨è®¾ç½®ä¸»é”®ï¼Œä½†æ˜¯ Django ä¼šè‡ªåŠ¨æ·»åŠ ä¸€ä¸ª id ä½œä¸ºä¸»é”®ã€‚</p>
<h2 id="æ•°æ®åº“æ“ä½œ">æ•°æ®åº“æ“ä½œ</h2>
<p>æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªtestdb.pyæ¥æµ‹è¯•ï¼Œå¹¶ä¿®æ”¹urls.pyï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">path</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">views</span><span class="p">,</span><span class="n">testdb</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;index/&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">index</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;testdb/&#39;</span><span class="p">,</span> <span class="n">testdb</span><span class="o">.</span><span class="n">testdb</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><h3 id="æ·»åŠ æ•°æ®">æ·»åŠ æ•°æ®</h3>
<p>æ·»åŠ æ•°æ®éœ€è¦å…ˆåˆ›å»ºå¯¹è±¡ï¼Œç„¶åå†æ‰§è¡Œ save å‡½æ•°ï¼Œç›¸å½“äºSQLä¸­çš„INSERTï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span> 
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">TestModel.models</span> <span class="kn">import</span> <span class="n">Test</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="c1"># æ•°æ®åº“æ“ä½œ</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">testdb</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span> <span class="o">=</span> <span class="n">Test</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;runoob&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">data</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;&lt;p&gt;æ•°æ®æ·»åŠ æˆåŠŸï¼&lt;/p&gt;&#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>å¦‚æœè®¿é—® <strong>http://127.0.0.1:8000/testdb</strong> å°±å¯ä»¥çœ‹åˆ°æ•°æ®æ·»åŠ æˆåŠŸçš„æç¤ºã€‚</p>
<h3 id="è·å–æ•°æ®">è·å–æ•°æ®</h3>
<p>Djangoæä¾›äº†å¤šç§æ–¹å¼æ¥è·å–æ•°æ®åº“çš„å†…å®¹ï¼Œè¿™é‡Œå°±ä¸ç»†è®²äº†ï¼Œå¦‚ä¸‹é¢ä»£ç æ‰€ç¤ºï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">TestModel.models</span> <span class="kn">import</span> <span class="n">Test</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="c1"># æ•°æ®åº“æ“ä½œ</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">testdb</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># åˆå§‹åŒ–</span>
</span></span><span class="line"><span class="cl">    <span class="n">response</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">response1</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># é€šè¿‡objectsè¿™ä¸ªæ¨¡å‹ç®¡ç†å™¨çš„all()è·å¾—æ‰€æœ‰æ•°æ®è¡Œï¼Œç›¸å½“äºSQLä¸­çš„SELECT * FROM</span>
</span></span><span class="line"><span class="cl">    <span class="nb">list</span> <span class="o">=</span> <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">        
</span></span><span class="line"><span class="cl">    <span class="c1"># filterç›¸å½“äºSQLä¸­çš„WHEREï¼Œå¯è®¾ç½®æ¡ä»¶è¿‡æ»¤ç»“æœ</span>
</span></span><span class="line"><span class="cl">    <span class="n">response2</span> <span class="o">=</span> <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># è·å–å•ä¸ªå¯¹è±¡</span>
</span></span><span class="line"><span class="cl">    <span class="n">response3</span> <span class="o">=</span> <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># é™åˆ¶è¿”å›çš„æ•°æ® ç›¸å½“äº SQL ä¸­çš„ OFFSET 0 LIMIT 2;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1">#æ•°æ®æ’åº</span>
</span></span><span class="line"><span class="cl">    <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># ä¸Šé¢çš„æ–¹æ³•å¯ä»¥è¿é”ä½¿ç”¨</span>
</span></span><span class="line"><span class="cl">    <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&#34;admin&#34;</span><span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s2">&#34;id&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># è¾“å‡ºæ‰€æœ‰æ•°æ®</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="n">response1</span> <span class="o">+=</span> <span class="n">var</span><span class="o">.</span><span class="n">name</span> <span class="o">+</span> <span class="s2">&#34; &#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">response</span> <span class="o">=</span> <span class="n">response1</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;&lt;p&gt;&#34;</span> <span class="o">+</span> <span class="n">response</span> <span class="o">+</span> <span class="s2">&#34;&lt;/p&gt;&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="æ›´æ–°æ•°æ®">æ›´æ–°æ•°æ®</h3>
<p>ä¿®æ”¹æ•°æ®å¯ä»¥ä½¿ç”¨ save() æˆ– update():</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">TestModel.models</span> <span class="kn">import</span> <span class="n">Test</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="c1"># æ•°æ®åº“æ“ä½œ</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">testdb</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># ä¿®æ”¹å…¶ä¸­ä¸€ä¸ªid=1çš„nameå­—æ®µï¼Œå†saveï¼Œç›¸å½“äºSQLä¸­çš„UPDATE</span>
</span></span><span class="line"><span class="cl">    <span class="n">test1</span> <span class="o">=</span> <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">test1</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="s1">&#39;Google&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="n">test1</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># å¦å¤–ä¸€ç§æ–¹å¼</span>
</span></span><span class="line"><span class="cl">    <span class="c1">#Test.objects.filter(id=1).update(name=&#39;Google&#39;)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># ä¿®æ”¹æ‰€æœ‰çš„åˆ—</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Test.objects.all().update(name=&#39;Google&#39;)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;&lt;p&gt;ä¿®æ”¹æˆåŠŸ&lt;/p&gt;&#34;</span><span class="p">)</span>
</span></span></code></pre></div><h3 id="åˆ é™¤æ•°æ®">åˆ é™¤æ•°æ®</h3>
<p>åˆ é™¤æ•°æ®åº“ä¸­çš„å¯¹è±¡åªéœ€è°ƒç”¨è¯¥å¯¹è±¡çš„delete()æ–¹æ³•å³å¯ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">TestModel.models</span> <span class="kn">import</span> <span class="n">Test</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="c1"># æ•°æ®åº“æ“ä½œ</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">testdb</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># åˆ é™¤id=1çš„æ•°æ®</span>
</span></span><span class="line"><span class="cl">    <span class="n">test1</span> <span class="o">=</span> <span class="n">Test</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">test1</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># å¦å¤–ä¸€ç§æ–¹å¼</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Test.objects.filter(id=1).delete()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="c1"># åˆ é™¤æ‰€æœ‰æ•°æ®</span>
</span></span><span class="line"><span class="cl">    <span class="c1"># Test.objects.all().delete()</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;&lt;p&gt;åˆ é™¤æˆåŠŸ&lt;/p&gt;&#34;</span><span class="p">)</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>Djangoå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</title>
      <link>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%89/</link>
      <pubDate>Mon, 15 Nov 2021 10:59:10 +0000</pubDate>
      
      <guid>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%89/</guid>
      <description>Djangoå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰ æ¨¡æ¿ åˆ©ç”¨Djangoçš„æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ–‡æ¡£å’Œè¡¨ç°å½¢å¼çš„åˆ†ç¦»ï¼Œå®ç°MVCæ¶æ„ã€‚ ç»“æ„ åœ¨é¡¹ç›®æ ¹ç›®å½•åº•ä¸‹åˆ›å»º templates ç›®å½•å¹¶å»ºç«‹</description>
      <content:encoded><![CDATA[<h1 id="djangoå­¦ä¹ ç¬”è®°ä¸‰">Djangoå­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰</h1>
<h2 id="æ¨¡æ¿">æ¨¡æ¿</h2>
<blockquote>
<p>åˆ©ç”¨Djangoçš„æ¨¡æ¿ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æ–‡æ¡£å’Œè¡¨ç°å½¢å¼çš„åˆ†ç¦»ï¼Œå®ç°MVCæ¶æ„ã€‚</p>
</blockquote>
<h2 id="ç»“æ„">ç»“æ„</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•åº•ä¸‹åˆ›å»º <code>templates </code>ç›®å½•å¹¶å»ºç«‹<code>index.html</code>æ–‡ä»¶ï¼Œæ•´ä¸ªç›®å½•ç»“æ„åº”å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">doodlexu@MacBook Web % tree
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ Web
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ __init__.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ __pycache__
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ __init__.cpython-39.pyc
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.cpython-39.pyc
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ settings.cpython-39.pyc
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â”œâ”€â”€ urls.cpython-39.pyc
</span></span><span class="line"><span class="cl">â”‚Â Â  â”‚Â Â  â””â”€â”€ wsgi.cpython-39.pyc
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ asgi.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ index.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ settings.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ urls.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ wsgi.py
</span></span><span class="line"><span class="cl">â”œâ”€â”€ db.sqlite3
</span></span><span class="line"><span class="cl">â”œâ”€â”€ manage.py
</span></span><span class="line"><span class="cl">â””â”€â”€ templates
</span></span><span class="line"><span class="cl">    â””â”€â”€ index.html
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="m">3</span> directories, <span class="m">14</span> files
</span></span></code></pre></div><p>å‘<code>index.html</code>æ–‡ä»¶å†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>{{ hello }}<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
</span></span></code></pre></div><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ¨¡æ¿æ–‡ä»¶é‡Œï¼Œå˜é‡çš„ä½¿ç”¨æ˜¯åŒæ‹¬å·<code>{{ content }}</code></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬éœ€è¦å‘Djangoè¯´æ˜æ¨¡æ¿æ–‡ä»¶çš„è·¯å¾„ï¼Œä¿®æ”¹Web/settings.pyï¼Œä¿®æ”¹ TEMPLATES ä¸­çš„ DIRS ä¸º <strong>[os.path.join(BASE_DIR, &rsquo;templates&rsquo;)]</strong> ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="p">{</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;BACKEND&#39;</span><span class="p">:</span> <span class="s1">&#39;django.template.backends.django.DjangoTemplates&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;DIRS&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">BASE_DIR</span><span class="p">,</span> <span class="s1">&#39;templates&#39;</span><span class="p">)],</span>       <span class="c1"># ä¿®æ”¹ä½ç½®</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;APP_DIRS&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s1">&#39;OPTIONS&#39;</span><span class="p">:</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">            <span class="s1">&#39;context_processors&#39;</span><span class="p">:</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.template.context_processors.debug&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.template.context_processors.request&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.contrib.auth.context_processors.auth&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">                <span class="s1">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">            <span class="p">],</span>
</span></span><span class="line"><span class="cl">        <span class="p">},</span>
</span></span><span class="line"><span class="cl">    <span class="p">},</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="o">...</span>
</span></span></code></pre></div><p>ä¿®æ”¹ <code>index.py</code>ï¼Œå¢åŠ ä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œç”¨äºå‘æ¨¡æ¿æäº¤æ•°æ®ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.shortcuts</span> <span class="kn">import</span> <span class="n">render</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">index</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="n">context</span> <span class="o">=</span> <span class="p">{}</span>
</span></span><span class="line"><span class="cl">    <span class="n">context</span><span class="p">[</span><span class="s1">&#39;hello&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Hello World!&#39;</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</span></span></code></pre></div><p>ä¿®æ”¹è·¯ç”±æ–‡ä»¶<code>urls.py</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">index</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;index/&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">index</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œä½¿ç”¨ render æ¥æ›¿ä»£ä¹‹å‰ä½¿ç”¨çš„ HttpResponseã€‚render è¿˜ä½¿ç”¨äº†ä¸€ä¸ªå­—å…¸ context ä½œä¸ºå‚æ•°ã€‚</p>
<p>context å­—å…¸ä¸­å…ƒç´ çš„é”®å€¼ <strong>hello</strong> å¯¹åº”äº†æ¨¡æ¿ä¸­çš„å˜é‡ <strong><code>{{ hello }}</code></strong> ã€‚</p>
<p>å†æ¬¡è®¿é—® <strong>http://127.0.0.1:8080/index</strong>ï¼Œå¯ä»¥çœ‹åˆ°é¡µé¢ï¼š</p>
<p><img loading="lazy" src="https://i.loli.net/2021/11/15/ahzqjR5vDFElJAb.png" alt="index"  />
è¿™æ ·æˆ‘ä»¬å°±å®Œæˆäº†ä½¿ç”¨æ¨¡æ¿æ¥è¾“å‡ºæ•°æ®ï¼Œä»è€Œå®ç°æ•°æ®ä¸è§†å›¾åˆ†ç¦»ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°†å…·ä½“ä»‹ç»æ¨¡æ¿ä¸­å¸¸ç”¨çš„è¯­æ³•è§„åˆ™ã€‚</p>
<h2 id="django-æ¨¡æ¿æ ‡ç­¾">Django æ¨¡æ¿æ ‡ç­¾</h2>
<h3 id="å˜é‡">å˜é‡</h3>
<p>æ¨¡æ¿è¯­æ³•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-django" data-lang="django"><span class="line"><span class="cl"><span class="x">viewï¼šï½›&#34;HTMLå˜é‡å&#34; : &#34;viewså˜é‡å&#34;ï½
</span></span></span><span class="line"><span class="cl"><span class="x">HTMLï¼šï½›ï½›å˜é‡åï½ï½
</span></span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>Djangoå­¦ä¹ ç¬”è®°ï¼ˆäºŒï¼‰</title>
      <link>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/</link>
      <pubDate>Sun, 14 Nov 2021 10:40:14 +0000</pubDate>
      
      <guid>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%BA%8C/</guid>
      <description>Djangoç¬”è®°ï¼ˆäºŒï¼‰ è§†å›¾ä¸URLé…ç½® åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„åŒåæ–‡ä»¶å¤¹é‡Œæ–°å»ºä¸€ä¸ªindex.pyï¼Œå¹¶è¾“å…¥ä»£ç ï¼š from django.http import HttpResponse def hello(request): return HttpResponse(&amp;#34;Hello world ! &amp;#34;) æ¥ä¸‹æ¥ï¼Œç»‘å®šè·¯</description>
      <content:encoded><![CDATA[<h1 id="djangoç¬”è®°äºŒ">Djangoç¬”è®°ï¼ˆäºŒï¼‰</h1>
<h2 id="è§†å›¾ä¸urlé…ç½®">è§†å›¾ä¸URLé…ç½®</h2>
<p>åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„åŒåæ–‡ä»¶å¤¹é‡Œæ–°å»ºä¸€ä¸ª<code>index.py</code>ï¼Œå¹¶è¾“å…¥ä»£ç ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.http</span> <span class="kn">import</span> <span class="n">HttpResponse</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">hello</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&#34;Hello world ! &#34;</span><span class="p">)</span>
</span></span></code></pre></div><p>æ¥ä¸‹æ¥ï¼Œç»‘å®šè·¯ç”±ä¸è§†å›¾å‡½æ•°ã€‚æ‰“å¼€æˆ‘ä»¬çš„<code>urls.py</code>åˆ é™¤åŸæ¥çš„å†…å®¹ï¼Œå†™å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.conf.urls</span> <span class="kn">import</span> <span class="n">url</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">.</span> <span class="kn">import</span> <span class="n">index</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^$&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">hello</span><span class="p">),</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div><p>å®Œæ•´é¡¹ç›®åˆ—è¡¨åº”å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">doodlexu@MacBook Web % tree
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ Web
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ __init__.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ asgi.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ index.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ settings.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ urls.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ wsgi.py
</span></span><span class="line"><span class="cl">â””â”€â”€ manage.py
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="m">1</span> directory, <span class="m">7</span> files
</span></span></code></pre></div><p>å¯åŠ¨å¼€å‘æœåŠ¡å™¨åï¼Œè®¿é—®åº”èƒ½çœ‹åˆ°å¦‚ä¸‹é¡µé¢ï¼š</p>
<p><img loading="lazy" src="https://i.loli.net/2021/11/14/8yLqmWiouMYcK2F.png" alt="Hello Worldï¼"  />
</p>
<p>***æ³¨æ„ï¼š*<em>é¡¹ç›®ä¸­å¦‚æœä»£ç æœ‰æ”¹åŠ¨ï¼ŒæœåŠ¡å™¨ä¼šè‡ªåŠ¨ç›‘æµ‹ä»£ç çš„æ”¹åŠ¨å¹¶è‡ªåŠ¨é‡æ–°è½½å…¥ï¼Œæ‰€ä»¥å¦‚æœä½ å·²ç»å¯åŠ¨äº†æœåŠ¡å™¨åˆ™ä¸éœ€æ‰‹åŠ¨é‡å¯ã€‚</em></p>
<h2 id="path-å‡½æ•°">path() å‡½æ•°</h2>
<p>Django path() å¯ä»¥æ¥æ”¶å››ä¸ªå‚æ•°ï¼Œåˆ†åˆ«æ˜¯ä¸¤ä¸ªå¿…é€‰å‚æ•°ï¼šrouteã€view å’Œä¸¤ä¸ªå¯é€‰å‚æ•°ï¼škwargsã€nameã€‚</p>
<p>è¯­æ³•æ ¼å¼ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="n">path</span><span class="p">(</span><span class="n">route</span><span class="p">,</span> <span class="n">view</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</span></span></code></pre></div><ul>
<li>route: å­—ç¬¦ä¸²ï¼Œè¡¨ç¤º URL è§„åˆ™ï¼Œä¸ä¹‹åŒ¹é…çš„ URL ä¼šæ‰§è¡Œå¯¹åº”çš„ç¬¬äºŒä¸ªå‚æ•° viewã€‚</li>
<li>view: ç”¨äºæ‰§è¡Œä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ URL è¯·æ±‚ã€‚</li>
<li>kwargs: è§†å›¾ä½¿ç”¨çš„å­—å…¸ç±»å‹çš„å‚æ•°ã€‚</li>
<li>name: ç”¨æ¥åå‘è·å– URLã€‚</li>
</ul>
<p>Django2. 0ä¸­å¯ä»¥ä½¿ç”¨ re_path() æ–¹æ³•æ¥å…¼å®¹ 1.x ç‰ˆæœ¬ä¸­çš„ <strong>url()</strong> æ–¹æ³•ï¼Œä¸€äº›æ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ä¹Ÿå¯ä»¥é€šè¿‡ re_path() æ¥å®ç° ã€‚</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">django.urls</span> <span class="kn">import</span> <span class="n">include</span><span class="p">,</span> <span class="n">re_path</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="n">re_path</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^index/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">re_path</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^bio/(?P&lt;username&gt;\w+)/$&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">bio</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;bio&#39;</span><span class="p">),</span>
</span></span><span class="line"><span class="cl">    <span class="n">re_path</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^weblog/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;blog.urls&#39;</span><span class="p">)),</span>
</span></span><span class="line"><span class="cl">    <span class="o">...</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span></code></pre></div>]]></content:encoded>
    </item>
    
    <item>
      <title>Djangoå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</title>
      <link>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/</link>
      <pubDate>Sun, 14 Nov 2021 00:13:46 +0000</pubDate>
      
      <guid>https://laoooo.cn/django%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%E4%B8%80/</guid>
      <description>Djangoç¬”è®°ï¼ˆä¸€ï¼‰ åˆ›å»ºé¡¹ç›® ç®¡ç†å·¥å…· åœ¨å®‰è£…å®ŒDjangoä¹‹åï¼Œæ¡†æ¶ä¼šä¸ºæˆ‘ä»¬è‡ªå¸¦ä¸€ä¸ªç®¡ç†å·¥å…·django-adminï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä¸Šç›´æ¥è¾“</description>
      <content:encoded><![CDATA[<h1 id="djangoç¬”è®°ä¸€">Djangoç¬”è®°ï¼ˆä¸€ï¼‰</h1>
<h2 id="åˆ›å»ºé¡¹ç›®">åˆ›å»ºé¡¹ç›®</h2>
<h3 id="ç®¡ç†å·¥å…·">ç®¡ç†å·¥å…·</h3>
<p>åœ¨å®‰è£…å®ŒDjangoä¹‹åï¼Œæ¡†æ¶ä¼šä¸ºæˆ‘ä»¬è‡ªå¸¦ä¸€ä¸ªç®¡ç†å·¥å…·<code>django-admin</code>ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç»ˆç«¯ä¸Šç›´æ¥è¾“å…¥è¯¥å‘½ä»¤ä»¥æŸ¥çœ‹ä»‹ç»ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">doodlexu@MacBook ~ % django-admin
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Type <span class="s1">&#39;django-admin help &lt;subcommand&gt;&#39;</span> <span class="k">for</span> <span class="nb">help</span> on a specific subcommand.
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Available subcommands:
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">[</span>django<span class="o">]</span>
</span></span><span class="line"><span class="cl">    check
</span></span><span class="line"><span class="cl">    compilemessages
</span></span><span class="line"><span class="cl">    createcachetable
</span></span><span class="line"><span class="cl">    dbshell
</span></span><span class="line"><span class="cl">    diffsettings
</span></span><span class="line"><span class="cl">    dumpdata
</span></span><span class="line"><span class="cl">    flush
</span></span><span class="line"><span class="cl">    inspectdb
</span></span><span class="line"><span class="cl">    loaddata
</span></span><span class="line"><span class="cl">    makemessages
</span></span><span class="line"><span class="cl">    makemigrations
</span></span><span class="line"><span class="cl">    migrate
</span></span><span class="line"><span class="cl">    runserver
</span></span><span class="line"><span class="cl">    sendtestemail
</span></span><span class="line"><span class="cl">    shell
</span></span><span class="line"><span class="cl">    showmigrations
</span></span><span class="line"><span class="cl">    sqlflush
</span></span><span class="line"><span class="cl">    sqlmigrate
</span></span><span class="line"><span class="cl">    sqlsequencereset
</span></span><span class="line"><span class="cl">    squashmigrations
</span></span><span class="line"><span class="cl">    startapp
</span></span><span class="line"><span class="cl">    startproject
</span></span><span class="line"><span class="cl">    <span class="nb">test</span>
</span></span><span class="line"><span class="cl">    testserver
</span></span></code></pre></div><h3 id="åˆ›å»ºé¡¹ç›®-1">åˆ›å»ºé¡¹ç›®</h3>
<p>åˆ›å»ºé¡¹ç›®å¯ä»¥ç”¨<code>django-admin</code>çš„<code>startproject</code>æ¥åˆ›å»ºæ‰€éœ€çš„é¡¹ç›®ï¼Œå…·ä½“æ ¼å¼ä¸º</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">django-admin startproject é¡¹ç›®åç§°
</span></span></code></pre></div><p>ä¸€ä¸ªå…¨æ–°çš„é¡¹ç›®ç›®å½•ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">doodlexu@MacBook Desktop % <span class="nb">cd</span> Web 
</span></span><span class="line"><span class="cl">doodlexu@MacBook Web % tree
</span></span><span class="line"><span class="cl">.
</span></span><span class="line"><span class="cl">â”œâ”€â”€ Web
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ __init__.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ asgi.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ settings.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â”œâ”€â”€ urls.py
</span></span><span class="line"><span class="cl">â”‚Â Â  â””â”€â”€ wsgi.py
</span></span><span class="line"><span class="cl">â””â”€â”€ manage.py
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="m">1</span> directory, <span class="m">6</span> files
</span></span></code></pre></div><p>ç›®å½•è¯´æ˜ï¼š</p>
<ul>
<li><strong>HelloWorld:</strong> é¡¹ç›®çš„å®¹å™¨ã€‚</li>
<li><strong>manage.py:</strong> ä¸€ä¸ªå®ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå¯è®©ä½ ä»¥å„ç§æ–¹å¼ä¸è¯¥ Django é¡¹ç›®è¿›è¡Œäº¤äº’ã€‚</li>
<li><strong>HelloWorld/<strong>init</strong>.py:</strong> ä¸€ä¸ªç©ºæ–‡ä»¶ï¼Œå‘Šè¯‰ Python è¯¥ç›®å½•æ˜¯ä¸€ä¸ª Python åŒ…ã€‚</li>
<li><strong>HelloWorld/asgi.py:</strong> ä¸€ä¸ª ASGI å…¼å®¹çš„ Web æœåŠ¡å™¨çš„å…¥å£ï¼Œä»¥ä¾¿è¿è¡Œä½ çš„é¡¹ç›®ã€‚</li>
<li><strong>HelloWorld/settings.py:</strong> è¯¥ Django é¡¹ç›®çš„è®¾ç½®/é…ç½®ã€‚</li>
<li><strong>HelloWorld/urls.py:</strong> è¯¥ Django é¡¹ç›®çš„ URL å£°æ˜; ä¸€ä»½ç”± Django é©±åŠ¨çš„ç½‘ç«™&quot;ç›®å½•&quot;ã€‚</li>
<li><strong>HelloWorld/wsgi.py:</strong> ä¸€ä¸ª WSGI å…¼å®¹çš„ Web æœåŠ¡å™¨çš„å…¥å£ï¼Œä»¥ä¾¿è¿è¡Œä½ çš„é¡¹ç›®ã€‚</li>
</ul>
<h3 id="å¯åŠ¨é¡¹ç›®">å¯åŠ¨é¡¹ç›®</h3>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿è¡Œ<code>manage.py</code>è¿™ä¸ªæ–‡ä»¶æ¥å¯åŠ¨æœåŠ¡å™¨ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">python3 manage.py runserver 127.0.0.1:8080
</span></span></code></pre></div><p>åœ¨æµè§ˆå™¨è¾“å…¥IPï¼Œå°±å¯ä»¥çœ‹åˆ°é»˜è®¤é¡µé¢ï¼š</p>
<p><img loading="lazy" src="https://i.loli.net/2021/11/14/9kZbwyTdFNEC2P5.png" alt="Djangoé»˜è®¤é¡µé¢"  />
</p>
<p><em>ä¸è¿‡å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œæˆ‘ä»¬æŒ‡å®šäº†è¿è¡Œçš„ç«¯å£ä¸º8080ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸æŒ‡å®šï¼Œé‚£ä¹ˆå…¶å°†ä¼šä½¿ç”¨é»˜è®¤ç«¯å£<code>8000</code></em></p>
]]></content:encoded>
    </item>
    
    <item>
      <title>reveal.jsä¸€ä¸ªç»å¦™çš„Webæ¼”ç¤ºæ–‡ç¨¿æ¡†æ¶</title>
      <link>https://laoooo.cn/reveal.js%E4%B8%80%E4%B8%AA%E7%BB%9D%E5%A6%99%E7%9A%84web%E6%BC%94%E7%A4%BA%E6%96%87%E7%A8%BF%E6%A1%86%E6%9E%B6/</link>
      <pubDate>Thu, 11 Mar 2021 22:10:46 +0000</pubDate>
      
      <guid>https://laoooo.cn/reveal.js%E4%B8%80%E4%B8%AA%E7%BB%9D%E5%A6%99%E7%9A%84web%E6%BC%94%E7%A4%BA%E6%96%87%E7%A8%BF%E6%A1%86%E6%9E%B6/</guid>
      <description>ä¸»é¢˜ ğŸ¦ é¸½äº†ã€‚ã€‚ã€‚ æ‰¾ä¸ªæ—¶é—´è¡¥ä¸Šã€‚ã€‚ã€‚ å¥½å‡ ä¸ªæœˆè¿‡å»äº†ï¼Œä¸‹æ¬¡ä¸€å®šè¡¥ä¸Šï¼Œä¸‹æ¬¡ä¸€å®šï¼ˆå’•å’•å’•</description>
      <content:encoded><![CDATA[<h1 id="ä¸»é¢˜">ä¸»é¢˜</h1>
<p>ğŸ¦ é¸½äº†ã€‚ã€‚ã€‚</p>
<p>æ‰¾ä¸ªæ—¶é—´è¡¥ä¸Šã€‚ã€‚ã€‚</p>
<p>å¥½å‡ ä¸ªæœˆè¿‡å»äº†ï¼Œä¸‹æ¬¡ä¸€å®šè¡¥ä¸Šï¼Œä¸‹æ¬¡ä¸€å®šï¼ˆå’•å’•å’•</p>
]]></content:encoded>
    </item>
    
  </channel>
</rss>
